@import 'dockview/dist/styles/dockview.css';
/**
 * Dockview Theme — AutoArt design system
 *
 * Selector reference (dockview v4.13.1):
 *   Active tab:    .dv-tab.dv-active-tab
 *   Inactive tab:  .dv-tab.dv-inactive-tab
 *   Content area:  .dv-groupview > .dv-content-container
 *   Close button:  .dv-default-tab-action
 *
 * @see docs/DESIGN.md
 */

/* === Variable overrides === */

.dockview-theme-light {
  --dv-group-view-background-color: var(--ws-bg);
  --dv-tabs-and-actions-container-background-color: var(--ws-tabstrip-tint, var(--ws-tabstrip-bg));
  --dv-activegroup-visiblepanel-tab-background-color: var(--ws-tab-bg-active);
  --dv-activegroup-visiblepanel-tab-color: var(--ws-tab-fg-active);
  --dv-activegroup-hiddenpanel-tab-background-color: var(--ws-tab-bg);
  --dv-activegroup-hiddenpanel-tab-color: var(--ws-tab-fg);
  --dv-inactivegroup-visiblepanel-tab-background-color: var(--ws-tab-bg);
  --dv-inactivegroup-visiblepanel-tab-color: var(--ws-tab-fg);
  --dv-inactivegroup-hiddenpanel-tab-background-color: var(--ws-tab-bg);
  --dv-inactivegroup-hiddenpanel-tab-color: var(--ws-muted-fg);
  --dv-tab-divider-color: var(--ws-tabstrip-border);
  --dv-separator-border: var(--ws-group-border);
  --dv-drag-over-background-color: var(--ws-drop-target-bg);
  --dv-drag-over-border: 2px solid var(--ws-drop-target-border);
  --dv-drag-over-border-color: var(--ws-drop-target-border);
  --dv-icon-hover-background-color: var(--ws-tab-close-hover-bg);
  color: var(--ws-fg);
}

/* === Tab strip container === */

.dockview-theme-light .dv-tabs-and-actions-container {
  border-bottom: 1px solid var(--ws-panel-border);
  z-index: 10;
  position: relative;
  background-image: none !important;
  background-size: auto;
  padding: 0 var(--ws-tab-radius);
}

/* Overflow stack fix — swoopy pseudo-elements extend ~8px beyond the tab.
   All three inner layers (tabs-container, dv-scrollable, tabs-and-actions-container)
   must be overflow:visible so nothing clips the ::before/::after concave corners.
   The outermost clip boundary is .dv-groupview (overflow:hidden, set by dockview),
   which is large enough that the pseudo-elements stay well within its bounds. */
.dockview-theme-light .dv-scrollable {
  overflow: visible !important;
}

.dockview-theme-light .dv-tabs-container {
  overflow: visible !important;
}

.dockview-theme-light .dv-react-part {
  overflow: visible;
}

/* === Tab base (inverse-radius swoopy tabs) === */

.dockview-theme-light .dv-tab {
  font-family: var(--font-sans);
  font-size: 13px;
  font-weight: 500;
  padding: var(--ws-tab-padding-y) var(--ws-tab-padding-x);
  border-radius: var(--ws-tab-radius) var(--ws-tab-radius) 0 0;
  color: var(--ws-tab-fg);
  transition: color var(--ws-motion-duration-fast) var(--ws-motion-ease),
              background-color var(--ws-motion-duration-fast) var(--ws-motion-ease);
  position: relative;
}

/* === Inactive tab === */

.dockview-theme-light .dv-tab.dv-inactive-tab {
  background-color: var(--ws-tab-bg);
}

/* === Hover === */

.dockview-theme-light .dv-tab:hover {
  background-color: var(--ws-tab-bg-hover) !important;
  color: var(--ws-tab-fg-hover);
}

/* === Focus / click === */

.dockview-theme-light .dv-tab:focus,
.dockview-theme-light .dv-tab:active {
  background-color: var(--ws-tab-bg-hover) !important;
  color: var(--ws-tab-fg-active);
  outline: none;
}

/* Suppress dockview tab divider adjacent to active tab */
.dockview-theme-light .dv-tabs-container.dv-horizontal .dv-tab.dv-active-tab + .dv-tab::before {
  content: none !important;
}

/* === Active tab — inverse-radius swoopy === */

.dockview-theme-light .dv-tab.dv-active-tab {
  color: var(--ws-tab-fg-active);
  background-color: var(--ws-tab-bg-active) !important;
  font-weight: 500;
  z-index: 2;
  margin-bottom: -1px;
}

/* Suppress dockview's native ::before divider on the active tab */
.dockview-theme-light .dv-tab.dv-active-tab::before {
  content: none !important;
}

/* Suppress dockview's native ::after focus outline on the active tab */
.dockview-theme-light .dv-tab.dv-active-tab::after {
  content: none !important;
}

/* Swoopy concave corners — real DOM elements to bypass dockview styleInject conflicts */
.ws-tab-corner {
  display: none;
  position: absolute;
  bottom: -1px;
  width: var(--ws-tab-radius);
  height: var(--ws-tab-radius);
  pointer-events: none;
  z-index: 2;
}

.dockview-theme-light .dv-active-tab .ws-tab-corner {
  display: block;
}

.ws-tab-corner-left {
  left: calc(-1 * var(--ws-tab-radius));
  background: radial-gradient(circle at 100% 0, transparent var(--ws-tab-radius), var(--ws-tab-bg-active) calc(var(--ws-tab-radius) + 0.5px));
}

.ws-tab-corner-right {
  right: calc(-1 * var(--ws-tab-radius));
  background: radial-gradient(circle at 0 0, transparent var(--ws-tab-radius), var(--ws-tab-bg-active) calc(var(--ws-tab-radius) + 0.5px));
}

.dockview-theme-light .dv-tab.dv-active-tab:hover {
  background-color: var(--ws-tab-bg-active) !important;
  color: var(--ws-tab-fg-active);
}

/* === Dragging === */

.dockview-theme-light .dv-tab.dv-tab-dragging {
  background-color: var(--ws-tab-bg-active) !important;
  color: var(--ws-tab-fg-active);
  opacity: 0.8;
}

/* === Hide close on permanent tabs === */

.dockview-theme-light .dv-tab[title="Projects"] .dv-default-tab-action {
  display: none !important;
}

/* === Close button === */

.dockview-theme-light .dv-default-tab-action {
  color: var(--ws-muted-fg);
  opacity: 0;
  transition: opacity 0.15s ease;
}

.dockview-theme-light .dv-tab:hover .dv-default-tab-action,
.dockview-theme-light .dv-tab.dv-active-tab .dv-default-tab-action {
  opacity: 1;
}

.dockview-theme-light .dv-default-tab-action:hover {
  color: var(--ws-fg);
  background-color: var(--ws-tab-close-hover-bg) !important;
  border-radius: 4px;
}

/* === Add tab button === */

.dockview-theme-light .dv-tabs-container .dv-void-container button {
  color: var(--ws-muted-fg);
}

.dockview-theme-light .dv-tabs-container .dv-void-container button:hover {
  color: var(--ws-fg);
  background: var(--ws-tab-bg-hover);
}

/* === Panel content area === */

.dockview-theme-light .dv-groupview > .dv-content-container {
  background: var(--ws-panel-bg);
  border: 1px solid var(--ws-panel-border);
  border-top: none;
}

/* === Drop target glow === */

.dockview-theme-light .dv-drop-target-container .dv-drop-target-anchor {
  border: 2px solid var(--ws-drop-target-border);
  box-shadow: var(--ws-drop-target-shadow);
  border-radius: var(--ws-drop-target-radius);
}

.dockview-theme-light .dv-drop-target > .dv-drop-target-dropzone > .dv-drop-target-selection {
  border: 2px solid var(--ws-drop-target-border);
  box-shadow: var(--ws-drop-target-shadow);
  border-radius: var(--ws-drop-target-radius);
}

/* === Scrollbars === */

.dockview-theme-light ::-webkit-scrollbar {
  width: var(--ws-scrollbar-width);
  height: var(--ws-scrollbar-width);
}

.dockview-theme-light ::-webkit-scrollbar-track {
  background: var(--ws-scrollbar-track);
}

.dockview-theme-light ::-webkit-scrollbar-thumb {
  background: var(--ws-scrollbar-thumb);
  border-radius: 3px;
}

.dockview-theme-light ::-webkit-scrollbar-thumb:hover {
  background: var(--ws-scrollbar-thumb-hover);
}
